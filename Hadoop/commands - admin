-- get eth0 ip addresses
ifconfig 

-- edit the hosts file
sudo vi /etc/hosts

aws ip orange
aws ip blue
aws ip green
aws ip pink

eth0 ip orangeint
eth0 ip blueint
eth0 ip greenint
eth0 ip pinkint

-- ping each other
ping orange
ping blue
ping green
ping pink

-- create repo source file
sudo vi /etc/apt/sources.list.d/cloudera.list

-- update the repo source file
deb [arch=amd64] http://archive.cloudera.com/cdh5/ubuntu/trusty/amd64/cdh trusty-cdh5 contrib
deb-src http://archive.cloudera.com/cdh5/ubuntu/trusty/amd64/cdh trusty-cdh5 contrib

-- update repos
sudo apt-get update

-- create repo preferences for cloudera
sudo vi /etc/apt/preferences.d/cloudera.pref

-- update repo cloudera preferences
Package: *
Pin: release o=Cloudera, l=Cloudera
Pin-Priority: 501

-- install hadoop in pseudo-distributed mode
sudo apt-get install -y hadoop-conf-pseudo

-- install java
sudo apt-get install -y openjdk-7-jdk 
sudo apt-get install -y openjdk-7-jre

-- format namenode
sudo â€“u hdfs hdfs namenode -format

-- view hadoop configuration files
cd /etc/hadoop/conf
ls
nano hdfs-site.xml
nano core-site.xml
nano mapred-site.xml

sudo -u hdfs hadoop fs -mkdir /tmp
sudo -u hdfs hadoop fs -mkdir -p /tmp/hadoopyarn/staging/history/done_intermediate
sudo -u hdfs hadoop fs -chown -R mapred:mapred /tmp/hadoopyarn/staging
sudo -u hdfs hadoop fs -chmod -R 1777 /tmp

sudo -u hdfs hadoop fs -mkdir -p /var/log/hadoop-yarn

sudo -u hdfs hadoop fs -chown yarn:mapred /var/log/hadoop-yarn

sudo service hadoop-yarn-resourcemanager start
sudo service hadoop-yarn-nodemanager start
sudo service hadoop-mapreduce-historyserver start

sudo -u hdfs hadoop fs -mkdir -p /user/ubuntu
sudo -u hdfs hadoop fs -chown ubuntu /user/ubuntu

pscp c:\shakespeare.txt ubuntu@35.176.172.83:/tmp
